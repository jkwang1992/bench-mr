<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Grid-based Environments - Bench-MR</title> <link rel="shortcut icon" href="/bench-mr/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/bench-mr/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/bench-mr/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/bench-mr/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.7.1 --> <title>Grid-based Environments | Bench-MR</title> <meta name="generator" content="Jekyll v4.2.0" /> <meta property="og:title" content="Grid-based Environments" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Grid-based Environments" /> <meta property="og:description" content="Grid-based Environments" /> <link rel="canonical" href="/bench-mr/docs/components/environments/grid/" /> <meta property="og:url" content="/bench-mr/docs/components/environments/grid/" /> <meta property="og:site_name" content="Bench-MR" /> <meta property="og:type" content="article" /> <meta property="article:published_time" content="2021-01-04T12:20:59+00:00" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Grid-based Environments" /> <script type="application/ld+json"> {"dateModified":"2021-01-04T12:20:59+00:00","datePublished":"2021-01-04T12:20:59+00:00","description":"Grid-based Environments","mainEntityOfPage":{"@type":"WebPage","@id":"/bench-mr/docs/components/environments/grid/"},"@type":"BlogPosting","url":"/bench-mr/docs/components/environments/grid/","headline":"Grid-based Environments","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="/bench-mr/" class="site-title lh-tight"> Bench-MR </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/bench-mr/docs/installation" class="nav-list-link">Installation</a><ul class="nav-list "><li class="nav-list-item "><a href="/bench-mr/docs/installation/build/" class="nav-list-link">Build Instructions</a></li><li class="nav-list-item "><a href="/bench-mr/docs/installation/docker/" class="nav-list-link">Using Docker</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/bench-mr/docs/getting-started/" class="nav-list-link">Getting Started</a><ul class="nav-list "><li class="nav-list-item "><a href="/bench-mr/docs/getting-started/tutorial/" class="nav-list-link">Tutorial</a></li></ul></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/bench-mr/docs/components/" class="nav-list-link">Components</a><ul class="nav-list "><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/bench-mr/docs/components/environments/" class="nav-list-link">Environments</a><ul class="nav-list"><li class="nav-list-item active"> <a href="/bench-mr/docs/components/environments/grid/" class="nav-list-link active">Grid-based Environments</a> </li><li class="nav-list-item "> <a href="/bench-mr/docs/components/environments/polygon/" class="nav-list-link">Polygon-based Environments</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/bench-mr/docs/components/planners/" class="nav-list-link">Planners</a><ul class="nav-list"><li class="nav-list-item "> <a href="/bench-mr/docs/components/planners/add/" class="nav-list-link">Add a Custom Planner</a> </li></ul></li><li class="nav-list-item "><a href="/bench-mr/docs/components/collision/" class="nav-list-link">Collision Checking</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/bench-mr/docs/components/metrics/" class="nav-list-link">Metrics</a><ul class="nav-list"><li class="nav-list-item "> <a href="/bench-mr/docs/components/metrics/add/" class="nav-list-link">Add a Custom Metric</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/bench-mr/docs/components/extendfun/" class="nav-list-link">Extend Functions</a><ul class="nav-list"></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/bench-mr/docs/components/postsmoothing/" class="nav-list-link">Post Smoothers</a><ul class="nav-list"><li class="nav-list-item "> <a href="/bench-mr/docs/components/smoothers/add/" class="nav-list-link">Add a Custom Smoother</a> </li></ul></li><li class="nav-list-item "><a href="/bench-mr/docs/components/objectives/" class="nav-list-link">Optimization Objectives</a></li><li class="nav-list-item "><a href="/bench-mr/docs/components/sampling/" class="nav-list-link">Sampling</a></li></ul></li><li class="nav-list-item"><a href="/bench-mr/docs/backend/" class="nav-list-link">Backend</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/bench-mr/docs/results/" class="nav-list-link">Results</a><ul class="nav-list "><li class="nav-list-item "><a href="/bench-mr/docs/results/corridor/" class="nav-list-link">Corridor Results</a></li><li class="nav-list-item "><a href="/bench-mr/docs/results/movingai-planners/" class="nav-list-link">Moving AI Planners</a></li><li class="nav-list-item "><a href="/bench-mr/docs/results/movingai-smoothers/" class="nav-list-link">Moving AI Smoothers</a></li></ul></li><li class="nav-list-item"><a href="/bench-mr/docs/contribute/" class="nav-list-link">Contributions</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Bench-MR" aria-label="Search Bench-MR" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/bench-mr/docs/components/">Components</a></li> <li class="breadcrumb-nav-list-item"><a href="/bench-mr/docs/components/environments/">Environments</a></li> <li class="breadcrumb-nav-list-item"><span>Grid-based Environments</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <h1 id="grid-based-environments"> <a href="#grid-based-environments" class="anchor-heading" aria-labelledby="grid-based-environments"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Grid-based Environments </h1> <h2 id="load-from-image"> <a href="#load-from-image" class="anchor-heading" aria-labelledby="load-from-image"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Load from Image </h2> <p>Occupancy grid maps can be loaded from monochromatic images. Based on a defined threshold, darker pixels become occupied grid cells, brighter pixels become unoccupied grid cells. The grid can optionally be scaled (while maintaining its original aspect ratio in case just one desired dimension is given).</p> <div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">MPB</span><span class="p">.</span><span class="n">set_image_grid_env</span><span class="p">(</span><span class="n">filename</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                       <span class="n">desired_width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
                       <span class="n">desired_height</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
                       <span class="n">occupancy_threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.5</span><span class="p">)</span>
</code></pre></div></div> <div class="table-wrapper"><table> <thead> <tr> <th style="text-align: left">Argument</th> <th style="text-align: left">Description</th> </tr> </thead> <tbody> <tr> <td style="text-align: left">filename</td> <td style="text-align: left">Filename of the image</td> </tr> <tr> <td style="text-align: left">desired_width</td> <td style="text-align: left">Desired number of horizontal grid cells (keep unchanged if zero)</td> </tr> <tr> <td style="text-align: left">desired_height</td> <td style="text-align: left">Desired number of vertical grid cells (keep unchanged if zero)</td> </tr> <tr> <td style="text-align: left">occupancy_threshold</td> <td style="text-align: left">Pixels with luminance less than this threshold are considered occupied cells</td> </tr> </tbody> </table></div> <h4 id="example"> <a href="#example" class="anchor-heading" aria-labelledby="example"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Example </h4> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">mpb</span><span class="p">.</span><span class="n">set_image_grid_env</span><span class="p">(</span><span class="s">"image_mazes/intel-lab.png"</span><span class="p">,</span>
                       <span class="n">desired_width</span><span class="o">=</span><span class="mi">300</span> <span class="o">*</span> <span class="mf">0.5</span><span class="p">,</span>
                       <span class="n">desired_height</span><span class="o">=</span><span class="mi">300</span> <span class="o">*</span> <span class="mf">0.5</span><span class="p">,</span>
                       <span class="n">occupancy_threshold</span><span class="o">=</span><span class="mf">0.98</span><span class="p">)</span>
<span class="n">mpb</span><span class="p">.</span><span class="n">set_planners</span><span class="p">([</span><span class="s">'rrt'</span><span class="p">,</span> <span class="s">'informed_rrt_star'</span><span class="p">])</span>
<span class="n">mpb</span><span class="p">.</span><span class="n">set_steer_functions</span><span class="p">([</span><span class="s">'reeds_shepp'</span><span class="p">])</span>
<span class="n">mpb</span><span class="p">.</span><span class="n">set_start</span><span class="p">(</span><span class="mi">50</span> <span class="o">*</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mi">230</span> <span class="o">*</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">mpb</span><span class="p">.</span><span class="n">set_goal</span><span class="p">(</span><span class="mi">235</span> <span class="o">*</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mi">40</span> <span class="o">*</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">mpb</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s">'test_run_intel'</span><span class="p">,</span> <span class="n">runs</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">mpb</span><span class="p">.</span><span class="n">visualize_trajectories</span><span class="p">(</span><span class="n">fig_width</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">fig_height</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</code></pre></div></div> <p><img src="/bench-mr/assets/frontend/environments-image/output_11_1.png" alt="png" /></p> <p><a href="https://github.com/eric-heiden/mpb/blob/master/plotting/Image%20Grid%20Maze.ipynb" class="btn btn-green">View Jupyter Notebook</a></p> <h2 id="procedurally-generated-corridors"> <a href="#procedurally-generated-corridors" class="anchor-heading" aria-labelledby="procedurally-generated-corridors"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Procedurally Generated Corridors </h2> <p>Corridor-like environments get generated procedurally via the RRT algorithm that extends the current 2D position in either a vertical or a horizontal direction. The resulting tree is created for a defined number of branches and cells within a given radius are set to unoccupied. The cells at the grid boundary are always occupied.</p> <div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">MPB</span><span class="p">.</span><span class="n">set_corridor_grid_env</span><span class="p">(</span><span class="n">width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">50</span><span class="p">,</span>
                          <span class="n">height</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">50</span><span class="p">,</span>
                          <span class="n">branches</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">40</span><span class="p">,</span>
                          <span class="n">radius</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">3.</span><span class="p">,</span>
                          <span class="n">seed</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
</code></pre></div></div> <div class="table-wrapper"><table> <thead> <tr> <th style="text-align: left">Argument</th> <th style="text-align: left">Description</th> </tr> </thead> <tbody> <tr> <td style="text-align: left">width</td> <td style="text-align: left">Number of horizontal grid cells</td> </tr> <tr> <td style="text-align: left">height</td> <td style="text-align: left">Number of vertical grid cells</td> </tr> <tr> <td style="text-align: left">branches</td> <td style="text-align: left">Number of “corridors” to generate (may overlap)</td> </tr> <tr> <td style="text-align: left">radius</td> <td style="text-align: left">Number of cells in both directions horizontally and vertically to free for each generated corridor</td> </tr> <tr> <td style="text-align: left">seed</td> <td style="text-align: left">Seed to use for the random number generator</td> </tr> </tbody> </table></div> <h4 id="example-1"> <a href="#example-1" class="anchor-heading" aria-labelledby="example-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Example </h4> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">parameters</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">]</span>
<span class="n">plt</span><span class="p">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">parameters</span><span class="p">)</span> <span class="o">*</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">parameter</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">parameters</span><span class="p">):</span>
    <span class="n">plt</span><span class="p">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">parameters</span><span class="p">),</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">m</span> <span class="o">=</span> <span class="n">MPB</span><span class="p">()</span>
    <span class="n">m</span><span class="p">.</span><span class="n">set_corridor_grid_env</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="n">branches</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">radius</span><span class="o">=</span><span class="n">parameter</span><span class="p">)</span>
    <span class="n">m</span><span class="p">.</span><span class="n">set_planners</span><span class="p">([</span><span class="s">'informed_rrt_star'</span><span class="p">])</span>
    <span class="n">m</span><span class="p">[</span><span class="s">"max_planning_time"</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">m</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s">"corridor"</span><span class="p">,</span> <span class="n">show_progress_bar</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">runs</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">run</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">load</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="n">m</span><span class="p">.</span><span class="n">results_filename</span><span class="p">,</span> <span class="s">"r"</span><span class="p">))[</span><span class="s">"runs"</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">plot_env</span><span class="p">(</span><span class="n">run</span><span class="p">[</span><span class="s">"environment"</span><span class="p">],</span> <span class="n">draw_start_goal_thetas</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">draw_start_goal</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">set_title</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
    <span class="n">plt</span><span class="p">.</span><span class="n">title</span><span class="p">(</span><span class="s">"$r = %g$"</span> <span class="o">%</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">24</span><span class="p">)</span>
</code></pre></div></div> <p><img src="/bench-mr/assets/frontend/environments-corridor/output_2_1.png" alt="png" /></p> <p><a href="https://github.com/eric-heiden/mpb/blob/master/plotting/Corridors.ipynb" class="btn btn-green">View Jupyter Notebook</a></p> <h2 id="random-grids"> <a href="#random-grids" class="anchor-heading" aria-labelledby="random-grids"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Random Grids </h2> <p>Given a ratio of occupied vs. unoccupied grid cells, grid environments can be randomly generated. The cells at the grid boundary are always occupied.</p> <div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">MPB</span><span class="p">.</span><span class="n">set_random_grid_env</span><span class="p">(</span><span class="n">width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">50</span><span class="p">,</span>
                        <span class="n">height</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">50</span><span class="p">,</span>
                        <span class="n">obstacle_ratio</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.1</span><span class="p">,</span>
                        <span class="n">seed</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">):</span>
</code></pre></div></div> <div class="table-wrapper"><table> <thead> <tr> <th style="text-align: left">Argument</th> <th style="text-align: left">Description</th> </tr> </thead> <tbody> <tr> <td style="text-align: left">width</td> <td style="text-align: left">Number of horizontal grid cells</td> </tr> <tr> <td style="text-align: left">height</td> <td style="text-align: left">Number of vertical grid cells</td> </tr> <tr> <td style="text-align: left">obstacle_ratio</td> <td style="text-align: left">Fraction of cells to be occupied relative to the total number of cells in the grid</td> </tr> <tr> <td style="text-align: left">seed</td> <td style="text-align: left">Seed to use for the random number generator</td> </tr> </tbody> </table></div> <h4 id="example-2"> <a href="#example-2" class="anchor-heading" aria-labelledby="example-2"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Example </h4> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">parameters</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.01</span><span class="p">,</span> <span class="mf">0.015</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">,</span> <span class="mf">0.025</span><span class="p">,</span> <span class="mf">0.03</span><span class="p">]</span>
<span class="n">plt</span><span class="p">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">parameters</span><span class="p">)</span> <span class="o">*</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">parameter</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">parameters</span><span class="p">):</span>
    <span class="n">plt</span><span class="p">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">parameters</span><span class="p">),</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">m</span> <span class="o">=</span> <span class="n">MPB</span><span class="p">()</span>
    <span class="n">m</span><span class="p">.</span><span class="n">set_random_grid_env</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="n">obstacle_ratio</span><span class="o">=</span><span class="n">parameter</span><span class="p">)</span>
    <span class="n">m</span><span class="p">.</span><span class="n">set_planners</span><span class="p">([</span><span class="s">'informed_rrt_star'</span><span class="p">])</span>
    <span class="n">m</span><span class="p">[</span><span class="s">"max_planning_time"</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">m</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s">"corridor"</span><span class="p">,</span> <span class="n">show_progress_bar</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">runs</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">run</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">load</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="n">m</span><span class="p">.</span><span class="n">results_filename</span><span class="p">,</span> <span class="s">"r"</span><span class="p">))[</span><span class="s">"runs"</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">plot_env</span><span class="p">(</span><span class="n">run</span><span class="p">[</span><span class="s">"environment"</span><span class="p">],</span> <span class="n">draw_start_goal_thetas</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">draw_start_goal</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">set_title</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
    <span class="n">plt</span><span class="p">.</span><span class="n">title</span><span class="p">(</span><span class="s">"$\gamma = %g \%%$"</span> <span class="o">%</span> <span class="p">(</span><span class="n">parameter</span> <span class="o">*</span> <span class="mi">100</span><span class="p">),</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">24</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">savefig</span><span class="p">(</span><span class="s">"obstacle_ratios.pdf"</span><span class="p">,</span> <span class="n">bbox_inches</span><span class="o">=</span><span class="s">'tight'</span><span class="p">)</span>
<span class="c1"># plt.savefig("obstacle_ratios.png", bbox_inches='tight')
</span></code></pre></div></div> <p><img src="/bench-mr/assets/frontend/environments-corridor/output_4_1.png" alt="png" /></p> <p><a href="https://github.com/eric-heiden/mpb/blob/master/plotting/Corridors.ipynb" class="btn btn-green">View Jupyter Notebook</a></p> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
